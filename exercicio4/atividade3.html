<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Sequência de Fibonacci</title>
</head>
<body>

    <h1>Sequência de Fibonacci</h1>
    
    <label for="inputLimite">Número Limite (N):</label>
    <input type="number" id="inputLimite" value="50" min="1">
    
    <button onclick="exibirFibonacci()">Gerar Sequência</button>
    
    <p id="resultado"></p>

    <script>
        /**
         * Gera a sequência de Fibonacci até que o próximo número exceda o limite N.
         * @param {number} N - O valor máximo que um termo da sequência pode atingir.
         * @returns {string|string} A sequência separada por vírgulas ou uma mensagem de erro.
         */
        function gerarFibonacci(N) {
            
            // Validação simples
            if (!Number.isInteger(N) || N <= 0) {
                return "Erro: O limite deve ser um número inteiro positivo.";
            }

            // Inicializa a sequência com os dois primeiros termos
            let sequencia = [0];
            let a = 0; // Primeiro termo (F0)
            let b = 1; // Segundo termo (F1)
            
            // Adiciona o segundo termo, mas apenas se ele não exceder o limite
            if (b <= N) {
                sequencia.push(b);
            }

            // Loop principal
            while (true) {
                let proximo = a + b;
                
                // Se o próximo número exceder o limite, paramos
                if (proximo > N) {
                    break;
                }
                
                // Adiciona o novo número à sequência
                sequencia.push(proximo);
                
                // Atualiza 'a' e 'b' para os dois últimos termos
                a = b;
                b = proximo;
            }
            
            // Retorna a sequência como uma string separada por vírgulas
            return sequencia.join(', ');
        }

        /**
         * Obtém o limite, gera a sequência e exibe o resultado.
         */
        function exibirFibonacci() {
            // 1. Pega e converte o valor de entrada
            const input = document.getElementById('inputLimite').value;
            const N = parseInt(input);
            
            // 2. Gera a sequência
            const sequencia = gerarFibonacci(N);
            
            // 3. Exibe o resultado
            const resultadoElement = document.getElementById('resultado');
            
            if (sequencia.startsWith('Erro:')) {
                resultadoElement.style.color = 'red';
                resultadoElement.textContent = sequencia;
            } else {
                resultadoElement.style.color = 'black';
                resultadoElement.innerHTML = `**Sequência de Fibonacci (até ${N}):** <br> ${sequencia}`;
            }
        }
    </script>

</body>
</html>